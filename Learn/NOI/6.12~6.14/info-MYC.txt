题目来源：POI2015 Czarnoksiężnicy okrągłego stołu(bzoj3746)
题目大意：
    将一个环上标上1～n的排列且满足环上两点之间的绝对值差小于等于p（p<=3）和一些限制。限制表示为ai不在bi的右边。
题目解法：
    对于p=0,1直接判
    对于p=2：只有两种解，判断是否和法
    对于p=3：因为i和i-1,i-2,i-3的相对顺序以及它们的相邻、边界情况有关。
             所以设f[i][j][S1][S2]表示已经安排了前i个人的座位，i-2,i-1,i的顺序为j，是否有人在两端点为S1，是否有人相邻为S2的方案数




题目来源：POI2015 Kinoman(bzoj3747)
题目大意：
    求一个二元组[L,R],使得s[L,R]最大。
    s[L,R]在第L到R中出现恰好一次的数的权值之和。
题目解法：
    记录和第i天相同的电影下一次出现的位置记为next[i]
    从左到右枚举以第i天为起点时的最大答案，那么对于每种电影，从i开始第一次出现记为+，next记为-，再出现时都记为0。
    那么以第i天为起点的答案即为前缀和的最大值。处理完i之后将起点向右移动一位，重新求得答案。最后取max
    单点修改，全局查询。写一棵线段树维护。
    时间：O(nlogn)
    空间：O(n)




题目来源：POI2015 Kwadraty(bzoj3748)
题目大意：
    将记k(n)为将n拆分为若干数的平方和，在拆分中最大的底数的最小值。若不存在拆分k(n)=oo
    若存在y>x，且k(y)<k(x)则x为超重数。
    求k(n)和1~n超重数个数。
题目解法：
    设f(x)=1^2+2^2+...+x^2=x*(x+1)*(2x+1)/6
    打表可得：
        1.当n>128,不存在n使得k(n)=oo。
        2.当n>506,找到一个t使得f(t−1)+1≤n≤f(t)
    若k(f(t)-n)是无穷大，则k(n)=t+1，否则k(n)=t
    所以当n<=506时，暴力打表，否则二分查找出这个t即可。




题目来源：POI2015 Łasuchy(bzoj3749)
题目大意：
    有一个环，环上每两点之间有一个人，每个人可以选择左边或右边的点，每个点的点权平均分配个选择它的人。
    求一个分配方案使得，每个人选择另一边的点所获得的权值不比当前大。
题目解法：
    强制n号点和1号点的选择，然后每个点的状态之和前两个点的选择有关，01记录前面的点的选择，DP即可。




题目来源：POI2015 Pieczęć(bzoj3750)
题目大意：
    用a*b的矩形去覆盖n*m的矩形。
题目解法：模拟




题目来源：POI2015 Kurs szybkiego czytania(bzoj4377)
题目大意：
    一个串第i位为0当且仅当（a*i+b）mod n<p (n和a互质)，求一个给定串在该串的出现次数。
题目解法：
    假设给定串的第1位实际值为x，我们可以根据给定串的实际值0,1获得若干个区间，对区间求交即可。




题目来源：POI2015 Logistyka(bzoj4378)
题目大意：
    支持修改一个点的点权和询问全局是否可以执行s次操作，每次选出c个正数并减1
题目解法：
    对于一次询问，如果一个数大于等于s，那么每次选择都会选到它。对于剩下的小于s的数只要他们的和能平均分配给剩下的位置即可。
    前缀/后缀求点数，求和。离线之后离散化，用两个树状数组维护即可。
    时间：O(nlogn)
    空间：O(n)
    
    


题目来源：POI2015 Modernizacja autostrady(bzoj4379)
题目大意：
    给定一棵无根树，边权都是1，请去掉一条边并加上一条新边，求所有可能的新树的直径的最小值和最大值
题目解法：
    对于最小直径：以原直径的两端为根，求出每个点向子树的最长链，枚举删除一条直径上的边，合并两侧信息。
    对于最大直径：区任意一点为根，求出每个点向子树内的最长链和次长链，枚举删除一条边，合并两侧信息。




题目来源：POI2015 Myjnie(bzoj4380)
题目大意：
    给出m个条件(L,R,c)。给序列中的每个点定一个值，对于每个条件若区间最小值小于等于c，则ans+=c。最大化ans
题目解法：
    先将权值离散化之后。设f[i][j][k]表示区间[i,j]，最小值为p是的最大和。
    枚举中间一个点t：dp[i][j][k]=dp[i][t−1][k]+dp[t+1][j][k]+cost(t)（cost(t)为跨过点t的条件个数*点t的权值）




题目来源：POI2015 Odwiedziny(bzoj4381)
题目大意：
    给你一棵树，每个点有点权。
    再给你一个序列a，你需要沿着序列遍历整棵树，从ai到ai+1步伐长度为ki，求经过的点权和。
题目解法：
    考虑每一次的k，当k>sqrt时可以暴力跳最多sqrt次，当k<sqrt时可以预处理。
    时间：O(nsqrt(n))
    空间：O(nsqrt(n))
    



题目来源：POI2015 Podział naszyjnika(bzoj4382)
题目大意：
    把一个长度为n的环切两刀。要求每种颜色的珠子只能出现在其中一条链中。
    求方案数量以及切成的两段长度之差绝对值的最小值。
题目解法：




题目来源：POI2015 Pustynia(bzoj4383)
题目大意：
    一个长度为n的序列，已知其中若干个点的权值与一些区间信息。
    区间信息表示为L,R,k和k个在[L,R]给定下标，表示这k个下标的数严格大于区间[L,R]中的其他数。
题目解法：
    线段树优化建图+拓扑跑最长路
    将[L,R]分割为k+1个区间并新建一个点。
    时间：O(nlogn)
    空间：O(nlogn)
    
    
    

题目来源：POI2015 Trzy wieże(bzoj4384)
题目大意：
    给定一个长度为n的仅包含三种字符的字符串，请找到最长的一段连续子串，没有任意两种字符出现次数相同。
题目解法：
    a，b，c为三种字符的前缀和。
    假设选择的区间为i～j，则
    a[i]-a[j]=b[i]-b[j]
    a[i]-a[j]=c[i]-c[j]
    b[i]-b[j]=c[i]-c[j]
    三者必定满足其一，即
    a[i]-b[i]=a[j]-b[j]
    a[i]-c[i]=a[j]-c[j]
    b[i]-c[i]=b[j]-c[j]
    三者满足一个
    所以一个点可以看作一个三元组(x,y,z)，对于每个点查找距离最远的且都不相同的点
    可以将第一维排序，第二维作为树状数组的下标，维护下标最小和最大的点，然后再维护第三维和最小最大值不同的最小最大值
    



题目来源：POI2015 Wilcze doły(bzoj4385)
题目大意：
    你可以先选择一段长度为d的区间使其变为0，再求一段最长的一段连续区间且该区间权值和小于一给定值。
题目解法：
    枚举每个点作为左端点时的答案，右端点单调递增。所以可以用单调队列维护。
    时间：O(n)
    空间：O(n)
    
    
   
   
题目来源：POI2016 Wycieczki(bzoj4386)
题目大意：
    给定一个图，边权小于等于3，求第k小路径长。
题目解法：
    因为边权小于等于3，所以可以拆点，二分ans，矩阵乘法验证小于等于ans的路径个数。

