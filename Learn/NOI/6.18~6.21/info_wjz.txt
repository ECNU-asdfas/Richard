题目来源：CC SANDWICH
题目大意：你有n米长的三明治，每天最多吃K米，问最少几天吃完，并且在最小天数的条件下有多少种方法吃完，对P取模

n,k 1e18

P 1e6


题目解法：
第一问显然是T=(n-1)/k+1
第二问就是你有若干米可以空着，要把它分配到T天里去，这就是一个组合数，因为P很小，CRT之后扩展Lucas，时间复杂度O(P log_P N)








题目来源: CC HLD
题目大意：你要把一棵树轻重链剖分，一条长度为L的重链代价是floor(log_2 L) + 1,一条轻边代价是1,最小化代价

n 1e5

题目解法：

大概考虑dp，一个点对一个祖先的贡献大概是一个(log_2 L+1)加上路径上一路经过的dp值。注意到同深度的只要保留dp和较小的那个，用线段树维护
算一个点dp值就是枚举一下logL的值然后线段树区间min，合并就是正常的线段树合并，时间复杂度O(nlog^2n)








题目来源: CC DGTCNT
题目大意：一个数是美观的当且仅当对于i \in [0,9],数字i在这个数位中出现的次数不是a_i,问[L,R]中美观的数个数

L,R 1e18

题目解法：

[L,R]=[1,R]-[1,L-1]

首先暴力是C(28,9)，这个是可以接受的

还有另外一种做法是poly(log(R))的

首先枚举一个前缀和R相同，再枚举下一位，接下来的就可以随便拿，这个是可以dp的





题目来源：CC ES

题目大意 : \sum floor(i * e) n\leq 10^4000

代码限制:1kb

题目解法:

把e取到足够精度,python算类欧。。。

不管你信不信，反正我是过了





题目来源： CC CLONEME
题目大意： 两个长度相同的区间相似当且仅当他们sort之后对应只有一个位置不一样，Q次询问两个区间一不一样

题目解法：

如果要求完全一样，那么就哈希一下主席树就可以了

然后一个位置不一样的那么值域最多两个不同，暴力在线段树上找就可以了

还要注意到不一样的值必须要连续，中间不能有其他东西，这个也判一判就好了



题目来源： CC KILLER

题目大意：给你一棵树，你要把这棵树拆分成若干条从底到顶的链，每个点只能在一条链中出现，每个点有权值C_u和H_u，深度是dep_u,h是整个树最大的深度，一条链的权值为:

u是全链最深的点 cost=\sum_{w} (C_u*(h-dep(w) + C_u ^ 2)  - H_u

最小化cost和

题目解法：

首先假设在序列上，我们化一下式子，大概可以得到f_i=Min{Ax^2+Bx+y},其中A,B由i决定,(x,y)由枚举的数决定，A,B,x>0.
观察这个抛物线，可得他在x>0的时候u是单增且下凸，易得最小值一定在凸包上就可以算了

树上加个启发式可并就可以了

时间复杂度O(nlog^2n)





题目来源:  http://agc015.contest.atcoder.jp/tasks/agc015_f

题目大意:


				0  			(if a==0)
定义f(x,y)=		f(y,x) 		(if y>x)
				f(y%x,x)+1	(if x<=y)
				
	
	
求 x \in [1,n] ,y\in [1,m] 的最大f(x,y)和能取到最大值的个数
			
n \leq 10^18 m\leq 10^18

Q次询问

Q\leq 10^5			
				
题目解法:
不妨设 n\leq m

首先注意到一件事是这个大概就是求gcd的递归次数

那么最大次数显然是最大的$k$满足$fib_k \leq n$,$fib_{k+1}\leq m$

考虑求这种答案的个数

定义一对数(x,y)是优美的当且仅当

$f(x,y) = k$

$x,y \leq fib_{k+2}$

注意到任何一对答案在经过一次操作之后一定会变成优美的

注意到$k$的优美数对可以生成$k+1$的优美数对

我们打个表发现$f(x,y) = k$的优美数对个数只有O(k)个，所以每次直接枚举每个优美数对算就可以了

时间复杂度$O(Qlog n)$




题目来源: http://agc015.contest.atcoder.jp/tasks/agc015_e

题目大意: 有$n$个人,第$i$个人在$p_i$，以$v_i\geq 0$的速度向正方向运动

现在你可以选择若干个人，把他们戴上绿帽。两个人如果在某个时刻相遇，并且他们其中之一有绿帽，那么他们都会带上绿帽

问有多少种戴上绿帽的方式使得足够长时间之后所有人都戴上了绿帽

n\leq 10^5

题目解法：

把所有人按$V_i$排序，对于某个人i，设j为最大的数满足p_j < p_i，那么显然[i,j]之间的人都可以被i戴帽，>j的都不能，反之亦然

那么每个人戴帽都是一个区间，而且显然易得按左端点排序之后，他们右端点是递增的，那么直接dp就可以了








题目来源：http://agc015.contest.atcoder.jp/tasks/agc015_d

题目大意：用任意区间[A,B]之间的数，能Or出多少个不同的数

题目解法：

首先。。对于[2^x,2^x+v],(v<2^x)这样一个区间，我们显然可以直接算出来Or出来不同的数
其次。。对于[2^x-v,2^x-1],这样一个区间，他们能Or出来不同的数就是这个区间

那么肯定找到A,B出现不同的第一位，先拆开来用上面的结论分别算

剩下的合并讨论一下就可以算出来了






题目来源: CodeM初赛 F

题目大意: 给你一个两边点数都为n的完全二分图，你要给每条边染成红蓝绿色,满足任意两条红，蓝色边不共享一个端点，问方案数。

n\leq 10^7  mod 1e9+7

题目解法: 考虑容斥
令 f[i]为两边点数都为i的二分图的匹配个数，那么答案显然为

Ans = \sum_{i=0}^n (C_n^i) ^ 2 i! f[n-i]^2 (-1)^i

oeis一下这个f[i],可以得到一个递推式

f[i] = f[i-1] * 2i - f[i-2] * (i-1)^2




题目来源: Yandex Algorithm 2014 Elimination Stage Round 3 F

题目大意: 你有一排N个白球，一个游戏是给你一个L，两个人轮流选择一个长度为L的白球染绿，不能操作的输，给定N，问L取遍[1,N]的先手是否必胜，

Source Limit : 20K

题目解法:

A. 注意到20K的限制并不是很大，可以通过高超的压缩技巧通过本题 (eg. Mike apia)

B. 打表观察性质:只有L=n/i+1时才有可能Lose,暴力判断是O(N^2.5)

C. 打表观察性质:得到奇怪结论。。。。。。然后就能直接判断了。。。


题目来源: GCJ13E

题目大意: 有一个序列,重复以下过程:如果这个序列并非不升，随机删掉一个元素。求：删掉元素的顺序有多少种。

N\leq 2000

题目解法: 我们考虑一个长度为x的不升子序列，那么可以先得到一个粗略的答案(N-x)!，但是这种可能会有不合法的状态，那么就在这里容斥掉，即要对(x>1)的减去x(N-x)!,这样得出来的即为所有答案


题目来源: GCJ 11A

题目大意: 对于一个字符串，runs定义为极大子串个数使得每个子串都是同种字符组成

给你一个字符串，重排列它，使得runs不变，两个重排列方法相同当且仅当他们字符串相同

runs \leq 100

题目解法：肯定是对于每个字母算，然后每个字母拆成若干个runs，考虑把runs插进原有的时候，有两种可能，第一种是插进原来的一个runs，这会产生2个新runs，第二种是插进两个runs中间，这会产生1个新runs，直接dp就可以了

时间复杂度O(100^3 26)
